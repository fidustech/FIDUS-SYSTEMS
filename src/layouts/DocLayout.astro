---
import Layout from './Layout.astro';
import Navigation from '../components/Navigation.astro';
import Header from '../components/Header.astro';

const { title, frontmatter } = Astro.props;
const pageTitle = frontmatter?.title || title;
---

<Layout title={pageTitle}>
  <Header />
  <div class="flex h-[calc(100vh-4rem)]">
    <Navigation />
    <main class="flex-1 overflow-auto p-8">
      <div class="prose prose-slate max-w-5xl mx-auto">
        <slot />
      </div>
    </main>
  </div>
</Layout>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    window.mermaid.initialize({ 
      startOnLoad: true,
      theme: 'neutral',
      securityLevel: 'loose',
      fontFamily: 'system-ui, -apple-system, sans-serif'
    });
  });
</script>